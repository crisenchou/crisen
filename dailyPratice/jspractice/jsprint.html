<html>
<head>
<title>js打印功能</title>
<meta charset="utf-8">
</head>
<body>

<div id="needprint">
    <p>
    <!--startprint-->
    需要打印的内容
    <!--endprint-->
    </p>
    <input type="button" id="print" value="打印" />
</div>


<div>
    <p>
    不需要打印的内容
    </p>
</div>
</body>
<script>
document.getElementById("print").onclick = function(){
    bdhtml=window.document.body.innerHTML;//获取当前页的html代码 
    sprnstr='<!--startprint--\>';  //设置打印开始区域 
    eprnstr="<!--endprint--\>";   //设置打印结束区域 
    prnhtml=bdhtml.substring(bdhtml.indexOf(sprnstr)+18); //从开始代码向后取html 
    prnhtml=prnhtml.substring(0,prnhtml.indexOf(eprnstr));//从结束代码向前取html 
    window.document.body.innerHTML=prnhtml;
    console.log(prnhtml);
    window.print(); 
}
</script>
</html>