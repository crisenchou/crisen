0.简单做一下自我介绍,? 然后谈一下近三年来你的得意之作?
得意的作品永远都处在将来，每天都比昨天的自己会优秀，曾经的项目不过都是胡乱的涂鸦罢了

1.面试官看过你的简历，会问一些你做的项目的用户量、pv、吞吐量、相关难点和解决方法等
  用户量：活跃用户的数量
  pv：page view 页面访问量
  吞吐量： 防火墙吞吐量是指在没有帧丢失的情况下，设备能够接收并转发的最大数据速率

2.数据库设计经验,为什么进行分表? 分库?
一般多少数据量开始分表? 分库? 分库分表的目的? 什么是数据库垂直拆分? 水平拆分? 分区等等？可以举例说明
    数据库的总数据量不一定是可控的，为进行分库分表的情况下，随着时间和业务的发展，数据库中的表会越来越多，表中的数据量也会越来越大，相应的数据操作的开销也会越来越大，而一台服务器的资源是有限的，最终数据库所能承载的数据量和数据处理能力都将遭遇到瓶颈。

    何谓垂直切分，即将表按照功能模块、关系密切程度划分出来，部署到不同的库上。例如，我们会建立定义数据库workDB、商品数据库payDB、用户数据库userDB、日志数据库logDB等，分别用于存储项目数据定义表、商品定义表、用户数据表、日志数据表等。

    何谓水平切分，当一个表中的数据量过大时，我们可以把该表的数据按照某种规则，例如userID散列，进行划分，然后存储到多个结构相同的表，和不同的库上。例如，我们的userDB中的用户数据表中，每一个表的数据量都很大，就可以把userDB切分为结构相同的多个userDB：part0DB、part1DB等，再将userDB上的用户数据表userTable，切分为很多userTable：userTable0、userTable1等，然后将这些表按照一定的规则存储到多个userDB上。
    分库分表在操作事务的时候，存在数据一致性无法得到保证的困难，如果使用数据库自身去控制会造成数据库的负担，如果使用应用程序去控制，那么又会造成编程方面的困难
    执行了分库分表之后，对于join不同的表将很难进行操作，可能需要多次查询才能完成
    额外的数据管理负担，最显而易见的就是数据的定位问题和数据的增删改查的重复执行问题，这些都可以通过应用程序解决，但必然引起额外的逻辑运算，例如，对于一个记录用户成绩的用户数据表userTable，业务要求查出成绩最好的100位，在进行分表之前，只需一个order by语句就可以搞定，但是在进行分表之后，将需要n个order by语句，分别查出每一个分表的前100名用户数据，然后再对这些数据进行合并计算，才能得出结果。



3.数据库优化有哪些? 分别需要注意什么?
    mysql优化主要有三个方面，
    一是sql语句层面，合理的使用索引，优化sql语句
    二是在mysql的配置层面解决问题，如选择数据库引擎，关闭不必要的日志等
    三 数据分离  分库分表 读写分离  分库分表在数据一致性方面比较占劣势 在联表方面比较困难


4.web开发方面会遇到哪些缓存? 分别如何优化?
web开发遇到缓存的地方
1.服务器存在缓存
2.web页面存在缓存
3.应用程序也有自己的缓存


5.给你256M的内存,对10G的文件进行排序(文件每行1个数字),如何实现？
对10G的文件进行查找如何实现？
统计10G文件每个关键字出现的次数如何实现？
    使用指针操作文件，文件是磁盘点阵列的方式存储在硬盘上的，通过对指针进行移动，把数据拆分成多个文件，然后利用现有的内存对数据进行处理


6.假如你现在是12306火车订票的设计师,你该如何设计满足全国人民订票?
    这个设计已经有前人做好了，我在此借用一下前辈们的思想，12306的窘境其实不是架构方面的问题，而是在业务上设计有错误，在这种一票难求的时代，在0点一次性把所有的票售光本就是一种不合理的做法，现在进行分时段售出部分的票，我们已经很难再像以前以上看到12306网站的服务器错误了

7.假如有1亿用户的访问量,你的服务器架构是怎样的? 用户信息的存储方案如何设计?
    我没有做过如此大型的项目，也没有接触过如此大的访问量，但是我可以利用我所学的知识进行模拟一下，
    首先从服务器方面，一台服务器很显然是不可能抗住这么大的流量的，一定得用服务器集群
    服务器集群之后带来的问题就是session共享，所以还需要sesssion服务器集群
    数据库也必须要进行集群，总体的思想就是以空间换取时间 待完善


8.如果你是技术组长,所带团队任务进度无法完成你该如何解决?
如果在进度排满的前提下插入任务,你该如何保证总进度不延期?
如果有的工程师今天预定任务没有完成,你该如何解决?

    这种人物之间的处理关系，我非常的不擅长，所以我真的不知道该作何回答

9.从你的经验方面谈一下如何构建高性能web站点? 需要哪些环节? 步骤? 每个步骤需要注意什么如何优化等?



10. 为什么要对数据库进行主从分离?

    当数据请求比较大的时候，一台数据库服务器是不可能抗住如此大访问量的，而且数据库服务器的最大连接数是有限制的，为了解决这个瓶颈，对数据库进行主从配置，达到读写分离是一种自然选择的结果

11. 如何处理多服务器共享session?
    使用一台sesssion服务器，所有的session数据全都存在session服务器上，现有的有redis服务器，数据存储在内存中，存储速度快，而且有持久化的过程，对数据的安全性有所保障

12. 一个10G的表,你用php程序统计某个字段出现的次数,思路是?
    数据表的数据如果超过的10G  那么妄想用一句sql搞定很显然是不可能搞定的   使用分段查询  每次只查询一段数据 然后利用指针的形式操作数据  保存在内存中

13. 会告诉你一个nginx日志例子,用你认为最佳的编程语言统计一下http响应时间超过1秒的前10个url?


14. 给你一个mysql配置文件,用你认为最佳的编程语言解析该文件?

15. 给你两个路径a和b,写一个算法或思路计算a和b差距几层并显示a和b的交集?

16. 给你一个url,在nginx配置一下rewrite指定到某个具体路径?
    rewrite 正则 url;

17. 一个php文件的解释过程是? 一般加速php有哪些? 提高php整体性能会用到哪些技术?
PHP的解释过程从http请求开始，经过cdn，服务器，网关等一系列的过程之后，最后进入到PHP的解释器
常用的PHP加速有apcache和HVMM  升级PHP版本也是一个不错的选择

18. session和cookie生存周期区别? 存储位置区别?
    session和cookie如果设置了过期时间，那么生命周期就是该过期时间，如果没有设置过期时间，那么session会保存在内存中，会随着浏览器的关闭而消失，cookie保存位置根据浏览器的不同而不同，有的是以文本形式保存，而有些是使用自己的数据库，而session是存在在内存中的，设置了生命周期之后，则默认是文件的形式保存在硬盘上，但是一个目录的文件超过2000个以上时，读写的速度会变的非常的缓慢，所以有使用数据库的方式来保存session


19. require、include、require_once、include_once区别? 加载区别? 如果程序按需加载某个php文件你如何实现?
    require和include都是用在加载文件的，只是如果需要加载的文件出现了错误，require会产生一个致命的错误，而include只会产生一个警告，加上once之后，可以保证一个文件只会被加载一次，这个函数会去先判断文件是否存在，然后再选择进行包含，会消耗一定的性能，如果需要按需加载某个PHP文件，可以使用面向对象的思维使用类自动加载的方式来进行，魔术方法__autoload()可以很好的实现这个功能，当然这个函数还有加强版，就是spl_loader_register()  SPL是PHP的标准类库


20. chrome号称为多线程的,所以多线程和多进程的区别为?
    线程是CPU调度和分派资源的最基本单位，一个进程就相当于一个程序，一个进程可以包含多个线程

21. php在2011年底出现hash碰撞,hash碰撞原理为? 如何进行修复?
哈希函数最困难的地方就是避免同样的数据产生同样的值，一个好的哈希函数生成的值和原来的数据应该是一一对应的，如果有重复的现象，那就是哈希碰撞，想要修复哈希碰撞只能是优化哈希函数
比如是md5函数，就有很大的概率产生碰撞，很多人采用了salt的方式来避免这样的碰撞，但是效果都不是很好，就拿密码来说，PHP5.5之后推出了一个新的密码哈希函数password_hash()，优化哈希函数是修复或者是避免碰撞最好的方式

22. web不安全因素有哪些? 分别如何防范?
    sql注入攻击  优化sql语句，对关键字进行过滤
    xss跨站脚本攻击   
    csrf跨站请求伪造
    相似页面钓鱼
    web蠕虫

23. 假如两个单链表相交,写一个最优算法计算交点位置,说思路也可以?
    把两个链表进行进行链接，然后遍历，如果出现一个指针指向了两块内存，那么则该指针是两个链表的交点位置

24. 假如你是技术组长? 如何提高团队效率?
    此题和第8题非常雷同

25. nginx负载均衡有哪些? 如果其中一台服务器挂掉,报警机制如何实现?
    nginx负载均衡的方式有四种，加权轮询，IPhash，以及另外两种第三方提供的fair和url_bash
    fair是按照后端服务器的响应时间来分配，响应时间短的优先分配
    url_hash的方式和IPHASH的方式类似，是对接受访问的url的hash结果来分配请求，似的同样的url重定向到同一个后端服务器，后端服务器为缓存是比较有效


26. 不优化前提下,apache一般最大连接数为? nginx一般最大连接数为? mysql 每秒insert ? select ? update ? delete?
    apache的默认最大连接数是256，nginx的默认最大连接数是1024,可设置65535，mysql是100，可设置最大16384



27. mysql 数据类型有哪些 ? 分别占用多少存储空间 ?
    mysql的数据类型有整形，字符类型，日期时间，枚举，集合
    整形又有tinyint，smallint，mediumint，int以及bigint，分别是1，2，3，4，8个字节 一个字节有8位 不计算符号的情况下 2的8次方


28. nginx设置缓存js、css、图片等信息,缓存的实现原理是?



29. 如何提高缓存命中率? 如何对缓存进行颗粒化?


30. php的内存回收机制是?
     PHP5.3之前是用计数器来实现垃圾回收的，每次创建或者引用对象的时候计数器+1，释放对象的时候计数器-1，如果计数器为0，那么则进行回收，但是这种处理方案在对象间的相互引用上处理的不是很好，容易造成内存泄漏，于是在5.3版本开始，在计数器的基础上增加了一种算法来专门处理多个对象相互引用的情况。
31. 我的所有问题都问完了,你有什么问题问我没有？
为什么php读取文件的时候只能从开头往下读，而不能倒着读取？



1 介绍自己过去工作中，或学习中，最能体现自己价值的成就。
-> 等介绍完后，这个成就实现时，遇到过怎样的困难，如何解决的。
2 解释一下SQL注入的原理及危害，假设这里有一个不严谨的登陆程序，如何利用SQL注入进入。
3 解释一下跨站脚本的原理及危害，假设这里有一个不严谨的留言板，请构造跨站脚本范例。
4 解释一下数据索引为什么能提高效率。
场景SQL select * from user where area='广州‘ and sex='女‘ order by lastlogin desc limit 30;
如何设计索引？
现在有10万条 IP地址对应区间表，格式为 startip, endip, area
要求每个用户访问时都能快速分析出对方地区，请设计实现。数据库或不用数据库，要求每秒钟实现超过千次的查询。
基本上到这些对我而言就已经足够了，如果上面题目特别满意的，再附加
5 现在有一个屏蔽词列表，大约几千个词；假设有一个繁忙的论坛社区，发帖量巨大，要求用户每发一篇文章就要快速分析是否包含屏蔽词，请给出程序设计。
6 一个游戏网站，有数千个小游戏，每个游戏要做积分排行，数据结构如下
gameid,userid,gamescore
每天数百万积分提交，数据量巨大，目前要求分库处理。
要求，可以基于每个游戏id可以查询积分排行榜。 可以基于用户id查询，比如自己或好友的历史游戏积分记录。请问如何处理分库。


